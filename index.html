<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="icon" type="image/x-icon" href="./favicon.png" />
    <title>“Teladrutyun”</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      body,
      html {
        height: auto;
        overflow: auto;
      }

      canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1;
        background-color: #f3f3f3;
      }

      /* Language switcher */
      .language-switcher {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 20;
        font-size: larger;
        cursor: pointer;
        margin-bottom: 20px;
        color: #d6390d; /* Color for the switcher */
        font-weight: bold; /* Bold font */
      }

      /* Text container styles */
      .text-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 10;
        color: #d6390d;
        font-size: xx-large;
        width: 90%;
        max-width: 800px;
        min-height: 300px;
        padding: 20px;
        margin-top: 10px;
      }

      .text-box {
        background-color: rgba(255, 255, 255, 0.2);
        padding: 20px;
        margin: 10px 0;
        backdrop-filter: blur(2px);
        overflow: hidden;
        text-align: center;
        font-size: larger;
        display: none;
        transition: opacity 0.8s ease-in-out;
      }

      .text-box.active {
        display: block;
        opacity: 1;
      }

      h2 {
        margin-bottom: 10px;
        font-size: x-large;
      }

      p {
        font-size: large;
      }

      a p {
        color: #d6390d;
        text-decoration: underline;
        text-decoration-color: #d6390d;
      }

      @media (max-width: 600px) {
        .text-container {
          font-size: large;
          padding: 10px;
          top: 75%;
        }

        .text-box {
          padding: 15px;
        }

        .language-switcher {
          font-size: medium;
        }
      }
    </style>
  </head>
  <body>
    <canvas id="webCanvas"></canvas>

    <!-- Language Switcher -->
    <div class="language-switcher" id="languageSwitcher">EN</div>

    <div class="text-container">
      <div id="armText" class="text-box active">
        <h2>«Թելադրություն» = «թել» + «դրություն»</h2>
        <p>
          Արդյոք մենք ենք ընտրում ինչպես շարժվել, թե՞ մեզ թելադրում են։ Ի՞նչ
          անել։ Գործե՞լ։ Ի՞նչպես գործել այս դրության մեջ։ Հենց ե՞ս։ Ո՞վ եմ ես։
          Գործը արտացոլում է հեղինակների ապրումներն այս հարցերի շուրջ։ Ձայնային
          ինստալյացիան հյուսում է գորգ լաբիրինթի տեսքով: Մեր գորգը կիսատ է, թե՞
          քանդված, որոշեք ինքներդ, բայց այն ունի գործվելու և ամբողջական դառնալու
          կարիք։ Այցելուները հրավիրված են “ազատ” ընտրելու թելադրվել, թե ոչ,
          ունենալով դիպչելու, ստեղծելու, լսելու, և գործելու հնարավորություն,
          որտեղ ամեն առաջին հայացքից փոքր և անտեսելի քայլ կամ հպում կարող է
          հանգեցնել փոփոխության։
        </p>
        <br />
        <a href="https://maps.app.goo.gl/yKkyaism63r2Y3Cr5">
          <p>
            <i class="fa-solid fa-location-dot"></i>
            Ժողովրդական արվեստների թանգարան, Նոյեմբերի 1-30 ժամը 10-ից 6-ը
          </p>
        </a>
      </div>

      <div id="enText" class="text-box">
        <h2>“Teladrutyun” = “thread[tel]” + “situation[drutyun]”</h2>
        <p>
          an Armenian term meaning "dictation," is a fusion of "tel," signifying
          a thread or bond, and "drutyun," denoting a situation. This immersive
          sound installation weaves a complex web of threads, evoking the
          intricate design of a spider's web. Visitors are invited to traverse
          this maze, exercising their free will, only to discover that the
          threads extend across the space, leading to an unfinished carpet. The
          installation offers a personalized auditory journey, as each path
          taken and each thread encountered activates distinct soundscapes. The
          interplay of different threads triggers a symphony of experiences.
          Upon entering the web, visitors find themselves in a visually
          confining space that simulates entrapment. Yet, it is their very
          movements and gentlest touches that have the power to transform the
          narrative they are composing in real-time.
        </p>
        <br />
        <a href="https://maps.app.goo.gl/yKkyaism63r2Y3Cr5">
          <p>
            <i class="fa-solid fa-location-dot"></i>
            Folk Art Museum, Nov 1-30 between 10AM–6PM
          </p>
        </a>
      </div>
    </div>

    <script>
      const canvas = document.getElementById("webCanvas");
      const ctx = canvas.getContext("2d");

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      resizeCanvas();
      window.addEventListener("load", resizeCanvas);
      window.addEventListener("resize", resizeCanvas);

      const screenDiagonal = Math.sqrt(canvas.width ** 2 + canvas.height ** 2);

      class Line {
        constructor(x, y, length, angle, color, rotationSpeed, speedX, speedY) {
          this.x = x;
          this.y = y;
          this.length = length;
          this.angle = angle;
          this.color = color;
          this.rotationSpeed = rotationSpeed;
          this.speedX = speedX;
          this.speedY = speedY;
        }

        update() {
          this.x += this.speedX;
          this.y += this.speedY;

          if (
            this.x <= -this.length / 2 ||
            this.x >= canvas.width + this.length / 2
          )
            this.speedX *= -1;
          if (
            this.y <= -this.length / 2 ||
            this.y >= canvas.height + this.length / 2
          )
            this.speedY *= -1;

          this.angle += this.rotationSpeed;
          this.draw();
        }

        draw() {
          const halfLength = this.length / 2;
          const xStart = this.x - halfLength * Math.cos(this.angle);
          const yStart = this.y - halfLength * Math.sin(this.angle);
          const xEnd = this.x + halfLength * Math.cos(this.angle);
          const yEnd = this.y + halfLength * Math.sin(this.angle);

          ctx.beginPath();
          ctx.moveTo(xStart, yStart);
          ctx.lineTo(xEnd, yEnd);
          ctx.strokeStyle = this.color;
          ctx.lineWidth = 2;
          ctx.stroke();
        }
      }

      let linesArray = [];
      const numberOfLines = 20;

      function getShadeOfColor() {
        const baseColor = [214, 57, 13];
        const variation = Math.floor(Math.random() * 60) - 30;
        return `rgb(${baseColor[0] + variation}, ${baseColor[1] + variation}, ${
          baseColor[2] + variation
        })`;
      }

      for (let i = 0; i < numberOfLines; i++) {
        let startX = Math.random() * canvas.width;
        let startY = Math.random() * canvas.height;
        let length = screenDiagonal * 5.5;
        let angle = Math.random() * Math.PI * 2;
        let rotationSpeed = (Math.random() - 0.5) * 0.0009; // Slower rotation
        let speedX = (Math.random() - 0.5) * 1; // Slower speed
        let speedY = (Math.random() - 0.5) * 1; // Slower speed

        linesArray.push(
          new Line(
            startX,
            startY,
            length,
            angle,
            getShadeOfColor(),
            rotationSpeed,
            speedX,
            speedY
          )
        );
      }

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        linesArray.forEach((line) => line.update());
        requestAnimationFrame(animate);
      }

      animate();

      // Language switcher functionality
      const languageSwitcher = document.getElementById("languageSwitcher");
      const armText = document.getElementById("armText");
      const enText = document.getElementById("enText");

      languageSwitcher.addEventListener("click", () => {
        if (armText.classList.contains("active")) {
          armText.classList.remove("active");
          enText.classList.add("active");
          languageSwitcher.textContent = "AM";
        } else {
          armText.classList.add("active");
          enText.classList.remove("active");
          languageSwitcher.textContent = "EN";
        }
      });
    </script>
  </body>
</html>
